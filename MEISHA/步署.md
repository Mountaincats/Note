#### 一、启动linux
1. 将image_file/bbl.bin拷入SD卡
2. 按8.4节的内容对闪存进行编程，需要用到文件：meisha.prm，meisha.mcs

#### 二、数据线 
1. miniB(J17): 通信
2. microB: jtag烧录

#### 三、相关命令及操作
##### (1)检查JTAG连接(vivado可自动完成，不用操作)
1. Linux中查看USB设备: `lsusb`
2. 在Vivado中打开Hardware Manager → Open Target → 看到FPGA设备

##### (2)检查UART连接
1. 查看串口设备: `ls /dev/ttyUSB*`
2. 使用串口终端(如minicom)连接 `sudo picocom -b 115200 /dev/ttyUSB0` 或 `sudo minicom -D /dev/ttyUSB0 -b 115200` (-D：指定串口设备 -b：指定波特率)

#### 四、烧录原始镜像到SD卡
```bash
# 假设SD卡是 /dev/sdb
1. 先备份重要数据！
sudo fdisk -l /dev/sdb  # 查看当前分区
2. 烧录原始镜像（文档中的方法）
# sudo dd if=bbl.bin of=/dev/sdb bs=512K count=1
sudo dd if=bbl.bin of=/dev/sdb bs=1M status=progress conv=fsync
# status=progress 作用：显示实时传输进度
# conv：Convert，转换参数
# fsync：确保数据完全写入物理设备
```

#### 五、Minicom
1. 说明：Linux下的串口终端通信程序
2. 功能：通过串口与嵌入式设备通信
3. Minicom 下载和安装(Ubuntu): `sudo apt-get install -y minicom` 及 `sudo apt-get install -y lrzsz`
4. 查找串口设备：
```bash
# Linux查看串口设备
ls /dev/ttyUSB*     # USB转串口设备
# ls /dev/ttyS*       # 物理串口
# 通常连接VC707后会显示为 /dev/ttyUSB0
```
5. 默认配置设置(可选)：
```bash
1. 第一次配置Minicom：
# 以root权限运行配置（需要读写串口权限）
sudo minicom -s
# 然后在菜单中选择Serial port setup项

2. 串口设置：
A - Serial Device: /dev/ttyUSB0    ← 修改为你的USB转串口设备设备
B - Lockfile Location: /var/lock   
C - Callin Program:                
D - Callout Program:               
E - Bps/Par/Bits: 115200 8N1      ← 确保是这个
F - Hardware Flow Control: No     ← 重要！
G - Software Flow Control: No     ← 重要！

    Change which setting?
按对应的字母键进行修改，按 Enter​ 返回主菜单。

3. 保存配置：
在主菜单中选择 "Save setup as dfl" 保存为默认配置
```
6. 基本使用：
```bash
1. 启动Minicom连接开发板：
# 使用默认配置连接
sudo minicom

# 或指定设备
sudo minicom -D /dev/ttyUSB0

# 或指定设备和波特率
sudo minicom -D /dev/ttyUSB0 -b 115200

2. 退出Minicom：
先按 Ctrl+A，然后按 Z​ 显示帮助菜单，再按 X​ 退出
或按 Ctrl+A，然后按 Q​ 不重置退出
或按 Ctrl+A，然后按 X​ 退出

在退出 Minicom 前，最好先在开发板的命令行里执行一下 logout或 exit来结束终端会话，然后再用上述按键退出 Minicom 程序本身
```
7. 传输文件到开发板(可选)：
```bash
# 在开发板终端执行接收
# 在Minicom中
# 按Ctrl+A，然后按Z，选择发送文件（Send files）

开发板需要安装 lrzsz
apt-get install lrzsz  # Debian/Ubuntu

# 或直接在终端使用
sz filename  # (send Zmodem)终端软件自动弹出文件选择对话框，让你选择在主机上保存的位置
rz           # (receive Zmodem)端软件自动弹出文件选择对话框，让你选择要发送的主机上的文件，自动传输到开发板的当前目录
```
8. 在开发板上运行程序：
```bash
# 在开发板终端
chmod +x /tmp/<可执行程序>
./tmp/<可执行程序>
```